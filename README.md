# ğŸ“° Haber Portali# ğŸ“° Haber Scraper - Web KazÄ±ma Projesi



TÃ¼rkiye'nin en kapsamlÄ± haber arama motoru. 100'den fazla gÃ¼venilir kaynaktan anlÄ±k haberler.Node.js tabanlÄ± haber scraping sistemi. TÃ¼rkiye'deki 170'den fazla haber sitelerinden otomatik haber toplama, depolama ve API ile sunma.



## ğŸ¯ Proje HakkÄ±nda## ğŸ¯ Proje AmacÄ±



Haber Portali, TÃ¼rkiye'deki gÃ¼ncel haberleri tek bir platformda toplayan modern bir haber portalÄ±dÄ±r. KullanÄ±cÄ±lar anahtar kelime veya kategori bazlÄ± haber aramasÄ± yapabilir, en son haberleri takip edebilir.Bu proje, kullanÄ±cÄ±nÄ±n seÃ§tiÄŸi kategori (finans, teknoloji, spor vb.) ve anahtar kelime (bitcoin, dolar, enflasyon vb.) Ã¼zerinden haber sitelerini tarayarak haberleri toplayan bir sistemdir. API kullanmadan, tamamen web scraping yÃ¶ntemiyle Ã§alÄ±ÅŸÄ±r.



## âœ¨ Ã–zellikler## ğŸ—ï¸ Mimari



- ğŸ” **AkÄ±llÄ± Arama** - GeliÅŸmiÅŸ arama algoritmasÄ± ile haberlere hÄ±zlÄ± eriÅŸim```

- ğŸ“‚ **Kategori Filtreleme** - GÃ¼ndem, Ekonomi, Spor, Teknoloji ve daha fazlasÄ±â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

- âš¡ **AnlÄ±k GÃ¼ncelleme** - Haberler dÃ¼zenli aralÄ±klarla gÃ¼ncellenirâ”‚                      HABER SCRAPER                          â”‚

- ğŸ“± **Mobil Uyumlu** - TÃ¼m cihazlarda mÃ¼kemmel gÃ¶rÃ¼nÃ¼mâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

- ğŸŒ™ **Modern ArayÃ¼z** - GÃ¶z yormayan koyu tema tasarÄ±mÄ±â”‚                                                             â”‚

â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚

## ğŸ–¼ï¸ Ekran GÃ¶rÃ¼ntÃ¼leriâ”‚  â”‚  SCRAPERS   â”‚â”€â”€â”€â–¶â”‚   SERVICE    â”‚â”€â”€â”€â–¶â”‚   MONGODB     â”‚  â”‚

â”‚  â”‚             â”‚    â”‚   (Ä°ÅŸ MantÄ±ÄŸÄ±)â”‚    â”‚  (VeritabanÄ±) â”‚  â”‚

### Ana Sayfaâ”‚  â”‚ Bloomberg   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚

Modern ve kullanÄ±cÄ± dostu arayÃ¼z ile haberlerinize kolayca ulaÅŸÄ±n.â”‚  â”‚ DÃ¼nya       â”‚           â”‚                    â–²          â”‚

â”‚  â”‚ Foreks      â”‚           â”‚                    â”‚          â”‚

### Kategori GÃ¶rÃ¼nÃ¼mÃ¼â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â–¼                    â”‚          â”‚

Ä°lgi alanÄ±nÄ±za gÃ¶re haberleri filtreleyin.â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚          â”‚

â”‚                    â”‚ EXPRESS API  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚

### Mobil GÃ¶rÃ¼nÃ¼mâ”‚                    â”‚  /api/news   â”‚                         â”‚

Her cihazda responsive tasarÄ±m.â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚

â”‚                           â–²                                 â”‚

## ğŸš€ Demoâ”‚                           â”‚                                 â”‚

â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚

ğŸŒ **CanlÄ± Demo:** [haberportali.com](https://haberportali.com)â”‚                    â”‚  CRON JOBS   â”‚                         â”‚

â”‚                    â”‚ (ZamanlayÄ±cÄ±)â”‚                         â”‚

## ğŸ“‹ Sistem Gereksinimleriâ”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚

â”‚                                                             â”‚

- Node.js 18+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- MongoDB 6+```



## ğŸ› ï¸ Kurulum## ğŸ“ KlasÃ¶r YapÄ±sÄ±



```bash```

# BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼klehaber-scraper/

npm installâ”œâ”€â”€ config/                 # Uygulama ayarlarÄ±

â”‚   â””â”€â”€ index.js           # Merkezi konfigÃ¼rasyon

# Ortam deÄŸiÅŸkenlerini ayarla (.env dosyasÄ±nÄ± dÃ¼zenleyin)â”‚

â”œâ”€â”€ models/                 # VeritabanÄ± modelleri

# UygulamayÄ± baÅŸlatâ”‚   â”œâ”€â”€ database.js        # MongoDB baÄŸlantÄ± yÃ¶netimi

npm startâ”‚   â”œâ”€â”€ News.js            # Haber ÅŸemasÄ±

```â”‚   â””â”€â”€ index.js           # Model exports

â”‚

## ğŸ“ Proje YapÄ±sÄ±â”œâ”€â”€ scrapers/              # Web scraping modÃ¼lleri

â”‚   â”œâ”€â”€ base/

```â”‚   â”‚   â””â”€â”€ BaseScraper.js # Temel scraper sÄ±nÄ±fÄ±

â”œâ”€â”€ public/          # Frontend dosyalarÄ±â”‚   â”œâ”€â”€ sites/

â”œâ”€â”€ routes/          # API rotalarÄ±â”‚   â”‚   â”œâ”€â”€ BloombergScraper.js

â”œâ”€â”€ models/          # VeritabanÄ± modelleriâ”‚   â”‚   â”œâ”€â”€ DunyaScraper.js

â”œâ”€â”€ services/        # Ä°ÅŸ mantÄ±ÄŸÄ±â”‚   â”‚   â””â”€â”€ ForeksScraper.js

â”œâ”€â”€ middleware/      # Express middleware'leriâ”‚   â””â”€â”€ index.js

â”œâ”€â”€ jobs/            # ZamanlÄ± gÃ¶revlerâ”‚

â”œâ”€â”€ config/          # YapÄ±landÄ±rmaâ”œâ”€â”€ services/              # Ä°ÅŸ mantÄ±ÄŸÄ± katmanÄ±

â””â”€â”€ app.js           # Ana uygulamaâ”‚   â”œâ”€â”€ ScraperService.js  # Scraping orkestrasyon

```â”‚   â””â”€â”€ index.js

â”‚

## ğŸ”’ GÃ¼venlikâ”œâ”€â”€ routes/                # API endpoint'leri

â”‚   â”œâ”€â”€ news.js            # Haber route'larÄ±

- Rate limiting ile DDoS korumasÄ±â”‚   â””â”€â”€ index.js

- Input validation ve sanitizationâ”‚

- Helmet.js gÃ¼venlik baÅŸlÄ±klarÄ±â”œâ”€â”€ middleware/            # Express middleware'leri

- CORS yapÄ±landÄ±rmasÄ±â”‚   â”œâ”€â”€ errorHandler.js    # Hata yakalama

â”‚   â””â”€â”€ index.js

## ğŸ“„ Sayfalarâ”‚

â”œâ”€â”€ jobs/                  # ZamanlÄ± gÃ¶revler

| Sayfa | AÃ§Ä±klama |â”‚   â”œâ”€â”€ cronManager.js     # Cron job yÃ¶netimi

|-------|----------|â”‚   â””â”€â”€ index.js

| Ana Sayfa | Haber arama ve listeleme |â”‚

| HakkÄ±mÄ±zda | Portal hakkÄ±nda bilgi |â”œâ”€â”€ utils/                 # YardÄ±mcÄ± fonksiyonlar

| Gizlilik PolitikasÄ± | KVKK ve gizlilik bilgileri |â”‚   â”œâ”€â”€ helpers.js         # Genel yardÄ±mcÄ±lar

| Ä°letiÅŸim | Ä°letiÅŸim formu |â”‚   â””â”€â”€ index.js

â”‚

## ğŸ“Š Ä°statistiklerâ”œâ”€â”€ scripts/               # YardÄ±mcÄ± scriptler

â”‚   â””â”€â”€ manual-scrape.js   # Manuel scraping

- 100+ Haber KaynaÄŸÄ±â”‚

- 10.000+ GÃ¼nlÃ¼k Haberâ”œâ”€â”€ .env                   # Ortam deÄŸiÅŸkenleri

- 7/24 Aktif Hizmetâ”œâ”€â”€ .gitignore             # Git ignore listesi

â”œâ”€â”€ package.json           # Proje baÄŸÄ±mlÄ±lÄ±klarÄ±

## ğŸ¤ Ä°letiÅŸimâ”œâ”€â”€ app.js                 # Ana uygulama

â””â”€â”€ README.md              # Bu dosya

SorularÄ±nÄ±z iÃ§in: info@haberportali.com```



## ğŸ“ Lisans## ğŸš€ Kurulum



Bu proje Ã¶zel lisanslÄ±dÄ±r. Ticari kullanÄ±m iÃ§in izin gereklidir.### Gereksinimler



---- Node.js >= 18.0.0

- MongoDB >= 6.0

Â© 2025 Haber Portali. TÃ¼m haklarÄ± saklÄ±dÄ±r.- npm veya yarn


### AdÄ±mlar

1. **Projeyi klonlayÄ±n**
   ```bash
   cd "Haber Web"
   ```

2. **BaÄŸÄ±mlÄ±lÄ±klarÄ± yÃ¼kleyin**
   ```bash
   npm install
   ```

3. **Playwright tarayÄ±cÄ±larÄ±nÄ± yÃ¼kleyin**
   ```bash
   npx playwright install chromium
   ```

4. **Ortam deÄŸiÅŸkenlerini ayarlayÄ±n**
   `.env` dosyasÄ±nÄ± dÃ¼zenleyin:
   ```env
   PORT=3000
   NODE_ENV=development
   MONGODB_URI=mongodb://localhost:27017/haber_db
   SCRAPE_INTERVAL_MINUTES=30
   ```

5. **MongoDB'yi baÅŸlatÄ±n**
   ```bash
   # Yerel MongoDB
   mongod
   
   # veya MongoDB Atlas kullanÄ±n
   ```

6. **UygulamayÄ± baÅŸlatÄ±n**
   ```bash
   # Production
   npm start
   
   # Development (nodemon ile)
   npm run dev
   ```

## ğŸ“¡ API KullanÄ±mÄ±

### Endpoint'ler

| Metod | Endpoint | AÃ§Ä±klama |
|-------|----------|----------|
| GET | `/api/news/search` | Haber arama |
| GET | `/api/news/latest` | Son haberler |
| GET | `/api/news/categories` | Kategori listesi |
| GET | `/api/news/sources` | Kaynak listesi |
| GET | `/api/news/stats/summary` | Ä°statistikler |
| GET | `/api/news/:id` | Tek haber detayÄ± |
| POST | `/api/news/scrape` | Manuel scraping tetikle |
| DELETE | `/api/news/cleanup` | Eski haberleri temizle |

### Ã–rnek Ä°stekler

**Haber Arama:**
```bash
curl "http://localhost:3000/api/news/search?keyword=bitcoin&category=finans&limit=10"
```

**Son Haberler:**
```bash
curl "http://localhost:3000/api/news/latest?limit=5"
```

**Kategori ve Kaynak Filtresi:**
```bash
curl "http://localhost:3000/api/news/search?category=ekonomi&source=bloomberg"
```

**Manuel Scraping:**
```bash
curl -X POST "http://localhost:3000/api/news/scrape" \
  -H "Content-Type: application/json" \
  -d '{"source": "bloomberg"}'
```

### Response FormatÄ±

```json
{
  "success": true,
  "data": {
    "news": [
      {
        "_id": "...",
        "title": "Bitcoin yeni zirve yaptÄ±",
        "summary": "Kripto para piyasasÄ±nda...",
        "url": "https://...",
        "imageUrl": "https://...",
        "category": "finans",
        "source": "bloomberg",
        "keywords": ["bitcoin", "kripto", "piyasa"],
        "publishedAt": "2024-12-20T10:30:00.000Z",
        "scrapedAt": "2024-12-20T11:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 150,
      "pages": 8,
      "hasNext": true,
      "hasPrev": false
    }
  }
}
```

## ğŸ”§ Manuel Scraping

API sunucusu Ã§alÄ±ÅŸmadan doÄŸrudan scraping yapmak iÃ§in:

```bash
# TÃ¼m kaynaklarÄ± scrape et
npm run scrape

# Belirli kaynaklarÄ± scrape et
node scripts/manual-scrape.js bloomberg
node scripts/manual-scrape.js dunya foreks
```

## â° ZamanlÄ± GÃ¶revler (Cron Jobs)

| Job | Zamanlama | AÃ§Ä±klama |
|-----|-----------|----------|
| Scraping | Her 30 dakika | TÃ¼m kaynaklarÄ± scrape et |
| Cleanup | Her gÃ¼n 03:00 | 30 gÃ¼nden eski haberleri deaktive et |
| Health Check | Her saat | Sistem durumunu logla |

## ğŸ› ï¸ Yeni Scraper Ekleme

1. `scrapers/sites/` altÄ±nda yeni dosya oluÅŸturun:
   ```javascript
   const BaseScraper = require('../base/BaseScraper');
   
   class YeniSiteScraper extends BaseScraper {
       constructor() {
           super({
               name: 'YeniSite',
               baseUrl: 'https://yenisite.com',
               source: 'yenisite',
               category: 'genel'
           });
       }
       
       async parseNewsItems($) {
           // Site-spesifik parse mantÄ±ÄŸÄ±
       }
   }
   
   module.exports = YeniSiteScraper;
   ```

2. `scrapers/index.js`'e ekleyin
3. `config/index.js`'teki sources'a ekleyin

## ğŸ”’ GÃ¼venlik Ã–nlemleri

- **Rate Limiting:** Ä°stekler arasÄ± rastgele gecikme
- **User-Agent:** GerÃ§ekÃ§i tarayÄ±cÄ± kimliÄŸi
- **Headless Browser:** GÃ¶rÃ¼nmez mod
- **Request Blocking:** Gereksiz kaynaklarÄ± engelleme (resim, font)
- **Retry Mechanism:** BaÅŸarÄ±sÄ±z istekleri tekrar deneme

## ğŸ“Š VeritabanÄ± ÅemasÄ±

```javascript
{
  title: String,        // Haber baÅŸlÄ±ÄŸÄ± (zorunlu)
  summary: String,      // Ã–zet
  content: String,      // Tam iÃ§erik
  url: String,          // Orijinal URL (unique)
  imageUrl: String,     // GÃ¶rsel URL
  category: String,     // Kategori (enum)
  source: String,       // Kaynak site
  keywords: [String],   // Anahtar kelimeler
  author: String,       // Yazar
  publishedAt: Date,    // YayÄ±n tarihi (zorunlu)
  scrapedAt: Date,      // Ã‡ekilme tarihi
  isActive: Boolean,    // Aktif mi?
  createdAt: Date,      // OluÅŸturulma
  updatedAt: Date       // GÃ¼ncelleme
}
```

## ğŸ› Sorun Giderme

### Playwright HatalarÄ±
```bash
# TarayÄ±cÄ±larÄ± yeniden yÃ¼kleyin
npx playwright install chromium --force
```

### MongoDB BaÄŸlantÄ± HatasÄ±
```bash
# MongoDB servisini kontrol edin
mongod --version
# Veya MongoDB Compass ile baÄŸlantÄ±yÄ± test edin
```

### Scraping BaÅŸarÄ±sÄ±z
- Site HTML yapÄ±sÄ± deÄŸiÅŸmiÅŸ olabilir
- F12 ile siteyi inceleyip selector'larÄ± gÃ¼ncelleyin
- Rate limiting'e takÄ±lmÄ±ÅŸ olabilirsiniz

## ğŸ“ Lisans

MIT License

## ğŸ¤ KatkÄ±da Bulunma

1. Fork yapÄ±n
2. Feature branch oluÅŸturun (`git checkout -b feature/amazing-feature`)
3. Commit yapÄ±n (`git commit -m 'feat: Add amazing feature'`)
4. Push yapÄ±n (`git push origin feature/amazing-feature`)
5. Pull Request aÃ§Ä±n
